<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0,
                 maximum-scale=1.0, user-scalable=no" />
  <title>Space-Themed Interactive Exercises</title>
  <style>
    /* ==================== Dark, Space-Themed, Mobile-First ===================== */

    /* Basic Reset */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* Body: dark background with "stars" effect */
    body {
      font-family: Arial, sans-serif;
      background: #1d1d1d url("data:image/svg+xml,\
        %3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'%3E%3Cg fill='%23ffffff' fill-opacity='0.3'%3E%3Crect width='1' height='1' x='10' y='10'/%3E%3Crect width='1' height='1' x='200' y='300'/%3E%3Crect width='1' height='1' x='123' y='220'/%3E%3Crect width='1' height='1' x='350' y='180'/%3E%3Crect width='1' height='1' x='50' y='150'/%3E%3Crect width='1' height='1' x='320' y='80'/%3E%3Crect width='1' height='1' x='70' y='360'/%3E%3Crect width='1' height='1' x='105' y='105'/%3E%3Crect width='1' height='1' x='280' y='200'/%3E%3C/g%3E%3C/svg%3E") repeat;
      color: #fff;
      margin: auto;
      max-width: 480px; /* For bigger screens, keep it centered */
      padding: 10px;
      min-height: 100vh;
      position: relative;
    }

    h1, h2 { text-align: center; margin: 20px 0 10px; }
    h1 { font-size: 1.4rem; }
    h2 { font-size: 1.2rem; }
    h3 { margin: 10px 0; font-size: 1rem; }

    /* Each screen takes full viewport (minus some padding) */
    .screen {
      display: none; /* only show the active screen */
      min-height: 80vh;
      background: rgba(255,255,255,0.05); /* subtle overlay */
      margin: 10px 0;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      position: relative;
    }

    /* Buttons for nav, check, etc. */
    .button {
      display: inline-block;
      background: #2b2b2b;
      color: #fff;
      border: 1px solid #444;
      padding: 10px 20px;
      border-radius: 6px;
      text-decoration: none;
      margin: 20px 5px 0;
      text-align: center;
      cursor: pointer;
      font-size: 0.9rem;
    }
    .button:hover {
      background: #444;
    }

    /* Feedback text */
    .feedback {
      margin-top: 8px;
      font-weight: bold;
    }
    .error { color: #ff6961; }
    .correct { color: #77dd77; }

    /* Option (Multiple Choice, True/False) */
    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin: 10px 0;
    }
    .option {
      background: #333;
      padding: 10px;
      border-radius: 4px;
      cursor: pointer;
      text-align: center;
      border: 1px solid #555;
      transition: background 0.2s;
    }
    .option:active,
    .option:hover {
      background: #444;
    }

    /* "App look" for headings, making them stand out */
    .title-emoji {
      font-size: 1.5rem;
      display: inline-block;
      margin-right: 6px;
    }

    /* Drag & Drop (Pointer Events) Containers */
    .drag-drop-zone {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin: 10px 0;
    }
    .draggable-item {
      background: #333;
      border: 1px dashed #666;
      border-radius: 5px;
      padding: 10px;
      min-width: 100px;
      text-align: center;
      cursor: grab;
      touch-action: none; /* important for pointer events on mobile */
    }
    .drop-zone {
      background: #2f2f2f;
      border: 2px dashed #777;
      border-radius: 5px;
      min-height: 50px;
      min-width: 120px;
      padding: 10px;
      text-align: center;
      position: relative;
    }

    /* Interactive Moon Orbit */
    .orbit-container {
      position: relative;
      width: 250px;
      height: 250px;
      margin: 20px auto;
      background: #222;
      border-radius: 50%;
      box-shadow: inset 0 0 30px rgba(0,0,0,0.3);
    }
    .earth {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.2rem;
    }
    .moon {
      position: absolute;
      width: 40px; height: 40px;
      font-size: 2rem;
      cursor: pointer;
      user-select: none;
      transform: translate(-50%, -50%);
      top: 50%; left: 90%;
      touch-action: none; /* pointer events on mobile */
    }

    /* Reorder Planets */
    .planets-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }
    .planet, .planet-slot {
      background: #333;
      border: 1px solid #555;
      border-radius: 4px;
      padding: 8px;
      text-align: center;
      width: 80%;
      max-width: 300px;
      margin: 0 auto;
      cursor: grab;
      touch-action: none;
    }
    .planet-slot {
      border: 1px dashed #666;
      min-height: 40px;
    }
  </style>
</head>

<body>
  <h1><span class="title-emoji">üöÄ</span>Space-Themed Interactive Exercises</h1>

  <!-- ====== SCREEN 1: MULTIPLE CHOICE (SYSTEM SOLAR) ====== -->
  <section class="screen" id="screen1">
    <h2>1) Multiple Choice: Solar System</h2>

    <!-- Q1 -->
    <h3>Where does the Moon‚Äôs light come from? üåô</h3>
    <div class="options" data-answer="From the Sun">
      <div class="option">From the Earth</div>
      <div class="option">From Mars</div>
      <div class="option">From the Sun</div>
      <div class="option">From Jupiter</div>
    </div>
    <div class="feedback"></div>

    <!-- Q2 -->
    <h3>Which is the largest star in our solar system? üåü</h3>
    <div class="options" data-answer="The Sun">
      <div class="option">The Moon</div>
      <div class="option">Saturn</div>
      <div class="option">The Sun</div>
      <div class="option">Uranus</div>
    </div>
    <div class="feedback"></div>

    <!-- Q3 -->
    <h3>How many planets orbit the Sun? ü™ê</h3>
    <div class="options" data-answer="8">
      <div class="option">7</div>
      <div class="option">8</div>
      <div class="option">9</div>
      <div class="option">10</div>
    </div>
    <div class="feedback"></div>

    <button class="button" onclick="goToScreen(2)">Next ‚û°Ô∏è</button>
  </section>

  <!-- ====== SCREEN 2: INTERACTIVE MOON ORBIT ====== -->
  <section class="screen" id="screen2">
    <h2>2) Interactive Moon Orbit</h2>
    <p>Drag the Moon around the Earth to see different phases!</p>

    <div class="orbit-container" id="orbitContainer">
      <div class="earth">üåç</div>
      <div class="moon" id="moonEl">üåï</div>
    </div>
    <div class="feedback" id="moonFeedback"></div>

    <button class="button" onclick="goToScreen(1)">‚¨ÖÔ∏è Back</button>
    <button class="button" onclick="goToScreen(3)">Next ‚û°Ô∏è</button>
  </section>

  <!-- ====== SCREEN 3: MATCHING ESTACIONES (DRAG & DROP) ====== -->
  <section class="screen" id="screen3">
    <h2>3) Match the Seasons</h2>
    <p>Drag each season to the correct image/description:</p>

    <div class="drag-drop-zone" id="seasonsDraggables">
      <div class="draggable-item" data-match="Spring">Spring üåº</div>
      <div class="draggable-item" data-match="Summer">Summer ‚òÄÔ∏è</div>
      <div class="draggable-item" data-match="Autumn">Autumn üçÇ</div>
      <div class="draggable-item" data-match="Winter">Winter ‚ùÑÔ∏è</div>
    </div>
    <div class="drag-drop-zone" id="seasonsZones">
      <div class="drop-zone" data-expect="Spring">[Flowers & green trees]</div>
      <div class="drop-zone" data-expect="Summer">[Kids on the beach]</div>
      <div class="drop-zone" data-expect="Autumn">[Falling leaves]</div>
      <div class="drop-zone" data-expect="Winter">[Snow & cold]</div>
    </div>
    <div class="feedback" id="seasonsFeedback"></div>

    <button class="button" onclick="checkMatches('seasonsZones','seasonsFeedback')">Check</button>
    <button class="button" onclick="goToScreen(2)">‚¨ÖÔ∏è Back</button>
    <button class="button" onclick="goToScreen(4)">Next ‚û°Ô∏è</button>
  </section>

  <!-- ====== SCREEN 4: MATCHING MOON PHASES ====== -->
  <section class="screen" id="screen4">
    <h2>4) Match the Moon Phases</h2>
    <p>Drag the phase name to the corresponding emoji:</p>

    <div class="drag-drop-zone">
      <div class="draggable-item" data-match="New Moon">New Moon</div>
      <div class="draggable-item" data-match="First Quarter">First Quarter</div>
      <div class="draggable-item" data-match="Full Moon">Full Moon</div>
      <div class="draggable-item" data-match="Last Quarter">Last Quarter</div>
    </div>
    <div class="drag-drop-zone" id="phasesZones">
      <div class="drop-zone" data-expect="New Moon">üåë</div>
      <div class="drop-zone" data-expect="First Quarter">üåì</div>
      <div class="drop-zone" data-expect="Full Moon">üåï</div>
      <div class="drop-zone" data-expect="Last Quarter">üåó</div>
    </div>
    <div class="feedback" id="phasesFeedback"></div>

    <button class="button" onclick="checkMatches('phasesZones','phasesFeedback')">Check</button>
    <button class="button" onclick="goToScreen(3)">‚¨ÖÔ∏è Back</button>
    <button class="button" onclick="goToScreen(5)">Next ‚û°Ô∏è</button>
  </section>

  <!-- ====== SCREEN 5: MULTIPLE CHOICE (DATES) ====== -->
  <section class="screen" id="screen5">
    <h2>5) Important Dates</h2>

    <h3>When does Spring begin? üå∏</h3>
    <div class="options" data-answer="March 20">
      <div class="option">June 20</div>
      <div class="option">March 20</div>
      <div class="option">September 23</div>
      <div class="option">December 21</div>
    </div>
    <div class="feedback"></div>

    <h3>When does Autumn begin? üçÅ</h3>
    <div class="options" data-answer="September 23">
      <div class="option">June 21</div>
      <div class="option">March 20</div>
      <div class="option">September 23</div>
      <div class="option">December 22</div>
    </div>
    <div class="feedback"></div>

    <button class="button" onclick="goToScreen(4)">‚¨ÖÔ∏è Back</button>
    <button class="button" onclick="goToScreen(6)">Next ‚û°Ô∏è</button>
  </section>

  <!-- ====== SCREEN 6: TRUE/FALSE ====== -->
  <section class="screen" id="screen6">
    <h2>6) True or False</h2>

    <h3>The Earth takes 365 days to orbit the Sun. üåç</h3>
    <div class="options" data-answer="True">
      <div class="option">True</div>
      <div class="option">False</div>
    </div>
    <div class="feedback"></div>

    <h3>The Sun orbits around the Earth. ‚òÄÔ∏è</h3>
    <div class="options" data-answer="False">
      <div class="option">False</div>
      <div class="option">True</div>
    </div>
    <div class="feedback"></div>

    <button class="button" onclick="goToScreen(5)">‚¨ÖÔ∏è Back</button>
    <button class="button" onclick="goToScreen(7)">Next ‚û°Ô∏è</button>
  </section>

  <!-- ====== SCREEN 7: REORDER PLANETS ====== -->
  <section class="screen" id="screen7">
    <h2>7) Reorder the Planets</h2>
    <p>Drag each planet to the correct slot (starting closest to the Sun):</p>

    <div class="planets-container">
      <div class="planet" data-order="1">Mercury</div>
      <div class="planet" data-order="2">Venus</div>
      <div class="planet" data-order="3">Earth</div>
      <div class="planet" data-order="4">Mars</div>
      <div class="planet" data-order="5">Jupiter</div>
      <div class="planet" data-order="6">Saturn</div>
      <div class="planet" data-order="7">Uranus</div>
      <div class="planet" data-order="8">Neptune</div>
    </div>
    <br>
    <div class="planets-container" id="planetsSlots">
      <div class="planet-slot" data-expected="1">Slot 1</div>
      <div class="planet-slot" data-expected="2">Slot 2</div>
      <div class="planet-slot" data-expected="3">Slot 3</div>
      <div class="planet-slot" data-expected="4">Slot 4</div>
      <div class="planet-slot" data-expected="5">Slot 5</div>
      <div class="planet-slot" data-expected="6">Slot 6</div>
      <div class="planet-slot" data-expected="7">Slot 7</div>
      <div class="planet-slot" data-expected="8">Slot 8</div>
    </div>
    <div class="feedback" id="planetsFeedback"></div>

    <button class="button" onclick="checkPlanets()">Check</button>
    <button class="button" onclick="goToScreen(6)">‚¨ÖÔ∏è Back</button>
    <button class="button" onclick="goToScreen(8)">Next ‚û°Ô∏è</button>
  </section>

  <!-- ====== SCREEN 8: MULTIPLE CHOICE (DAYS OF MONTHS) ====== -->
  <section class="screen" id="screen8">
    <h2>8) Days of the Months</h2>

    <h3>How many days does February have in a normal year? ‚ùì</h3>
    <div class="options" data-answer="28">
      <div class="option">27</div>
      <div class="option">28</div>
      <div class="option">29</div>
      <div class="option">30</div>
    </div>
    <div class="feedback"></div>

    <h3>How many days does December have? ‚ùÑÔ∏è</h3>
    <div class="options" data-answer="31">
      <div class="option">28</div>
      <div class="option">29</div>
      <div class="option">30</div>
      <div class="option">31</div>
    </div>
    <div class="feedback"></div>

    <button class="button" onclick="goToScreen(7)">‚¨ÖÔ∏è Back</button>
    <!-- End or loop as needed -->
  </section>

  <script>
  /******************************************************
   * Screen Navigation
   ******************************************************/
  let currentScreen = 1;
  function goToScreen(num) {
    // Hide all .screen
    document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
    // Show selected
    currentScreen = num;
    const sel = document.getElementById('screen' + num);
    if(sel) sel.style.display = 'block';
  }
  // Start with screen1 visible
  goToScreen(currentScreen);

  /******************************************************
   * 1) Multiple Choice & True/False
   ******************************************************/
  document.querySelectorAll('.options').forEach(group => {
    const correct = group.dataset.answer;
    const feedbackEl = group.parentElement.querySelector('.feedback');
    group.querySelectorAll('.option').forEach(opt => {
      opt.addEventListener('click', () => {
        if(opt.textContent.trim() === correct) {
          feedbackEl.textContent = "Correct! ‚úÖ";
          feedbackEl.classList.add('correct');
          feedbackEl.classList.remove('error');
        } else {
          feedbackEl.textContent = "Try again. ‚ùå";
          feedbackEl.classList.add('error');
          feedbackEl.classList.remove('correct');
        }
      });
    });
  });

  /******************************************************
   * 2) Moon Orbit (Pointer Events for Mobile)
   ******************************************************/
  const moon = document.getElementById('moonEl');
  const orbit = document.getElementById('orbitContainer');
  const moonFb = document.getElementById('moonFeedback');
  let draggingMoon = false;
  let offsetX = 0, offsetY = 0;

  function getCenter() {
    const rect = orbit.getBoundingClientRect();
    return {
      cx: rect.left + rect.width / 2,
      cy: rect.top + rect.height / 2,
      radius: rect.width / 2.3
    };
  }

  function startMoonDrag(e) {
    e.preventDefault();
    draggingMoon = true;
    if(e.type === 'touchstart') {
      offsetX = e.touches[0].clientX - moon.getBoundingClientRect().left;
      offsetY = e.touches[0].clientY - moon.getBoundingClientRect().top;
    } else {
      offsetX = e.clientX - moon.getBoundingClientRect().left;
      offsetY = e.clientY - moon.getBoundingClientRect().top;
    }
    document.addEventListener('pointermove', onMoonMove);
    document.addEventListener('pointerup', endMoonDrag);
    document.addEventListener('touchmove', onMoonMove, {passive:false});
    document.addEventListener('touchend', endMoonDrag);
  }

  function onMoonMove(e) {
    if(!draggingMoon) return;
    let clientX, clientY;
    if(e.type === 'touchmove') {
      clientX = e.touches[0].clientX;
      clientY = e.touches[0].clientY;
    } else {
      clientX = e.clientX;
      clientY = e.clientY;
    }
    const {cx, cy, radius} = getCenter();
    const dx = clientX - cx - offsetX;
    const dy = clientY - cy - offsetY;
    const angle = Math.atan2(dy, dx);
    const newX = cx + radius * Math.cos(angle);
    const newY = cy + radius * Math.sin(angle);

    const orbitRect = orbit.getBoundingClientRect();
    moon.style.left = (newX - orbitRect.left) + 'px';
    moon.style.top  = (newY - orbitRect.top) + 'px';

    updateMoonPhase(angle);
  }

  function endMoonDrag() {
    draggingMoon = false;
    document.removeEventListener('pointermove', onMoonMove);
    document.removeEventListener('touchmove', onMoonMove);
  }

  function updateMoonPhase(rads) {
    let deg = rads * (180/Math.PI);
    if(deg < 0) deg = 360 + deg;

    let phase = "", emoji = "";
    if(deg >= 0 && deg < 90) {
      phase = "First Quarter";
      emoji = "üåì";
    } else if(deg >= 90 && deg < 180) {
      phase = "Full Moon";
      emoji = "üåï";
    } else if(deg >= 180 && deg < 270) {
      phase = "Last Quarter";
      emoji = "üåó";
    } else {
      phase = "New Moon";
      emoji = "üåë";
    }
    moon.textContent = emoji;
    moonFb.textContent = `Current Phase: ${phase}`;
  }

  // We'll use "pointerdown" for better mobile/desktop compatibility
  moon.addEventListener('pointerdown', startMoonDrag);
  moon.addEventListener('touchstart', startMoonDrag, {passive:false});

  /******************************************************
   * 3 & 4) Drag & Drop Matching (Pointer-based)
   ******************************************************/
  let currentlyDragging = null;
  let offsetDX = 0, offsetDY = 0;

  // Make all .draggable-item pointer-friendly
  document.querySelectorAll('.draggable-item').forEach(item => {
    item.style.position = 'relative'; /* needed for pointer-based dragging */
    item.addEventListener('pointerdown', e => {
      e.preventDefault();
      currentlyDragging = item;
      offsetDX = e.clientX - (item.getBoundingClientRect().left);
      offsetDY = e.clientY - (item.getBoundingClientRect().top);
      item.setPointerCapture(e.pointerId);
      item.addEventListener('pointermove', onDragItem);
      item.addEventListener('pointerup', dropItem);
    });
  });

  function onDragItem(e) {
    if(!currentlyDragging) return;
    let x = e.clientX - offsetDX;
    let y = e.clientY - offsetDY;
    // Move item via absolute positioning
    currentlyDragging.style.position = 'absolute';
    currentlyDragging.style.zIndex = '999';
    currentlyDragging.style.left = x + 'px';
    currentlyDragging.style.top = y + 'px';
  }

  function dropItem(e) {
    if(!currentlyDragging) return;
    currentlyDragging.removeEventListener('pointermove', onDragItem);
    currentlyDragging.removeEventListener('pointerup', dropItem);

    // Check if it intersects with a .drop-zone
    let dropZone = document.elementFromPoint(e.clientX, e.clientY);
    if(dropZone && dropZone.classList.contains('drop-zone')) {
      // If drop-zone is empty, place item in drop-zone
      if(dropZone.children.length === 0) {
        // Reset item position
        currentlyDragging.style.position = 'relative';
        currentlyDragging.style.left = '0px';
        currentlyDragging.style.top = '0px';
        dropZone.appendChild(currentlyDragging);
      } else {
        // Return to original parent if occupied
        resetItemPosition(currentlyDragging);
      }
    } else {
      // Not in a drop-zone, reset to original spot
      resetItemPosition(currentlyDragging);
    }
    currentlyDragging = null;
  }

  function resetItemPosition(item) {
    item.style.position = 'relative';
    item.style.left = '0px';
    item.style.top = '0px';
    // Return to drag-drop-zone if parent is not drop-zone
    const parentId = item.getAttribute('data-original-parent');
    if(parentId) {
      const originalParent = document.getElementById(parentId);
      if(originalParent) originalParent.appendChild(item);
    }
  }

  // Save original parent id for each draggable
  document.querySelectorAll('.drag-drop-zone').forEach(zone => {
    zone.querySelectorAll('.draggable-item').forEach(item => {
      item.setAttribute('data-original-parent', zone.id);
    });
  });

  /***** Check Function for Matching Exercises *****/
  function checkMatches(zoneId, feedbackId) {
    const zoneContainer = document.getElementById(zoneId);
    const dropZones = zoneContainer.querySelectorAll('.drop-zone');
    let correctCount = 0;
    dropZones.forEach(dz => {
      const expected = dz.dataset.expect;
      const item = dz.querySelector('.draggable-item');
      if(item && item.dataset.match === expected) {
        correctCount++;
      }
    });
    const fb = document.getElementById(feedbackId);
    if(correctCount === dropZones.length) {
      fb.textContent = "Perfect! All matches are correct. ‚úÖ";
      fb.classList.remove('error');
      fb.classList.add('correct');
    } else {
      fb.textContent = "Some matches are incorrect. ‚ùå";
      fb.classList.add('error');
      fb.classList.remove('correct');
    }
  }

  /******************************************************
   * 7) Reorder Planets (Pointer-based)
   ******************************************************/
  let draggingPlanet = null;
  let pxOffX = 0, pxOffY = 0;

  document.querySelectorAll('.planet').forEach(planet => {
    planet.style.position = 'relative';
    planet.addEventListener('pointerdown', e => {
      e.preventDefault();
      draggingPlanet = planet;
      pxOffX = e.clientX - planet.getBoundingClientRect().left;
      pxOffY = e.clientY - planet.getBoundingClientRect().top;
      planet.setPointerCapture(e.pointerId);
      planet.addEventListener('pointermove', onPlanetMove);
      planet.addEventListener('pointerup', onPlanetDrop);
    });
  });

  function onPlanetMove(e) {
    if(!draggingPlanet) return;
    let x = e.clientX - pxOffX;
    let y = e.clientY - pxOffY;
    draggingPlanet.style.zIndex = '999';
    draggingPlanet.style.position = 'absolute';
    draggingPlanet.style.left = x + 'px';
    draggingPlanet.style.top = y + 'px';
  }

  function onPlanetDrop(e) {
    if(!draggingPlanet) return;
    draggingPlanet.removeEventListener('pointermove', onPlanetMove);
    draggingPlanet.removeEventListener('pointerup', onPlanetDrop);

    let target = document.elementFromPoint(e.clientX, e.clientY);
    if(target && target.classList.contains('planet-slot')) {
      // If empty, place planet
      if(target.children.length === 0) {
        resetPlanetPosition(draggingPlanet);
        target.appendChild(draggingPlanet);
      } else {
        resetPlanetPosition(draggingPlanet);
      }
    } else {
      resetPlanetPosition(draggingPlanet);
    }
    draggingPlanet = null;
  }

  // Return planet to original container if not dropped in slot
  function resetPlanetPosition(planet) {
    planet.style.position = 'relative';
    planet.style.left = '0px';
    planet.style.top = '0px';
    planet.style.zIndex = '1';
    // If not in slot or if slot is occupied, put it back in main container
    const container = document.querySelector('.planets-container');
    if(container && !planet.parentElement.classList.contains('planet-slot')) {
      container.appendChild(planet);
    }
  }

  function checkPlanets() {
    const slots = document.querySelectorAll('.planet-slot');
    let correct = 0;
    slots.forEach(slot => {
      const exp = slot.dataset.expected;
      const pl = slot.querySelector('.planet');
      if(pl && pl.dataset.order === exp) {
        correct++;
      }
    });
    const fb = document.getElementById('planetsFeedback');
    if(correct === slots.length) {
      fb.textContent = "All planets are in the correct order! ‚úÖ";
      fb.classList.remove('error');
      fb.classList.add('correct');
    } else {
      fb.textContent = "Some planets are out of order. ‚ùå";
      fb.classList.add('error');
      fb.classList.remove('correct');
    }
  }
  </script>
</body>
</html>
